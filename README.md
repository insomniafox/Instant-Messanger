# Тестовое задание: Сервис обмена мгновенными сообщениями

## Описание проекта

Этот проект представляет собой простой сервис для обмена мгновенными сообщениями между пользователями в реальном
времени. Сервис включает в себя функционал регистрации, аутентификации пользователей, обмена сообщениями, уведомлений
через Telegram-бота и веб-интерфейс для тестирования.

## Функциональность

### 1. Регистрация и аутентификация

- Пользователи могут регистрироваться в системе, указывая свои учетные данные.
- Реализована аутентификация и авторизация через API с использованием токенов.

### 2. Отправка и получение сообщений

- Пользователи могут отправлять и получать сообщения в реальном времени.
- Сообщения доставляются с использованием WebSocket.

### 3. Сохранение истории сообщений

- Все сообщения сохраняются в базе данных (PostgreSQL).
- Реализована возможность получения истории переписки между пользователями.

### 4. Уведомления через Telegram-бота

- Telegram-бот, созданный с использованием `Aiogram`, уведомляет пользователей о новых сообщениях, если они находятся
  оффлайн.

### 5. Веб-интерфейс

- Веб-страница позволяет регистрироваться, аутентифицироваться и взаимодействовать с сервисом (отправка/получение
  сообщений).
- Дизайн не является приоритетом, поэтому использованы простые шаблоны.

## Стек технологий

- **Язык программирования**: Python 3.10+
- **Фреймворк**: FastAPI для создания RESTful API
- **Асинхронность**: Использование `async/await` для обработки запросов в реальном времени с помощью WebSocket
- **База данных**: PostgreSQL для хранения данных пользователей и сообщений, Redis для кэширования и управления сессиями
- **ORM**: SQLAlchemy
- **Миграции**: Alembic для управления миграциями базы данных
- **Фоновые задачи**: Celery для обработки фоновых задач (например, отправка уведомлений)
- **Контейнеризация**: Docker для контейнеризации приложения
- **Сервер**: Nginx для обратного проксирования

## Запуск проекта

### 1. Клонирование репозитория

```bash
git clone https://github.com/insomniafox/Instant-Messanger
cd Instant-Messanger
```

### 2. Убедитесь, что у вас есть файл .env

#### В вашем .env файле обязательно должны быть следующие переменные

 ```env
   SECRET_KEY=YOUR-SECRET-KEY
   TELEGRAM_BOT_TOKEN=YOUR-TOKEN
   TELEGRAM_BOT_USERNAME=YOUR-BOT-USERNAME
   ```

### 3. Запуск Docker

Создайте внутреннюю сеть:

```bash
docker network create messanger_net
```

Для запуска через Docker, выполните команду:

```bash
docker-compose up --build -d
```

### 4. Чтобы проверить работоспособность чата, зайдите на следующий URL:

```
http://localhost:8009/chat
```

## Документация API

Документация API автоматически генерируется с помощью FastAPI и доступна по адресу `/docs` при запуске приложения.


